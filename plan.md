# План работ по реализации страницы детального просмотра услуги

## Этап 1: Бэкенд

- [x] **Модель Service:** Поля `estimated_time` и `allows_modifications` уже существуют.
- [x] **Миграции:** Не требуются, так как модель актуальна.
- [x] **Сериализатор:** `ServiceSerializer` уже включает необходимые поля.
- [x] **API View:** `ServiceViewSet` уже предоставляет детальный просмотр.
- [x] **URL-адреса:** Маршрут `GET /api/services/{id}/` уже существует благодаря `DefaultRouter`.
- [x] **Документация:** Обновить `api.md` с описанием нового эндпоинта и полей.

## Этап 2: Фронтенд

- [x] **Форма услуги:** Обновить форму создания/редактирования услуги, добавив поля для `estimated_time` и `allows_modifications`.
- [x] **Страница услуги:** Создать компонент и маршрут для детальной страницы услуги (`/services/:id`).
- [x] **Логика заказов:** Реализовать на странице услуги кнопки "Заказать без правок" и "Заказать с правками".
- [ ] **Страница заказа:** Создать компонент и маршрут для детальной страницы заказа (`/orders/:id`).
- [ ] **Списки заказов:** Проверить и доработать отображение заказов для клиента и креатора.

## Этап 3: Фотографии для услуг (Бэкенд)

- [x] **Модель:** Создать модель `ServiceImage` с `ForeignKey` на `Service`.
- [x] **Миграции:** Создать и применить миграции для новой модели.
- [x] **Сериализатор:** Создать `ServiceImageSerializer` и обновить `ServiceSerializer` для вывода изображений.
- [x] **API View:** Доработать `ServiceViewSet` для возможности загрузки изображений при создании/обновлении услуги.
- [x] **URL-адреса:** Проверить, что маршруты для загрузки изображений настроены.
- [x] **Документация:** Обновить `api.md`.

## Этап 4: Фотографии для услуг (Фронтенд)

- [x] **Форма услуги:** Интегрировать компонент для загрузки файлов в `ServiceAddPage.tsx`.
- [x] **API-запрос:** Изменить функцию отправки данных для поддержки `multipart/form-data`.
- [x] **Страница услуги:** Отобразить галерею изображений на `ServiceDetailPage.tsx`.

## Ошибки и исправления

*   **Проблема:** Возникали многочисленные ошибки при попытке частичного редактирования файла `frontend/src/pages/ServiceAddPage.tsx` из-за его сложной асинхронной структуры и динамической инициализации формы.
*   **Решение:** Файл был полностью перезаписан с использованием `mcp1_write_file`, что позволило избежать конфликтов и успешно внедрить весь необходимый функционал за один шаг.
